* Set TEST_BOOL, showing child items
> { "TEST_BOOL" : true }
< { "values" : { "TEST_BOOL" : true, "TEST_CHILD_STR" : "OHAI!", "TEST_CHILD_BOOL" : true }, "ranges": {"TEST_CONDITIONAL_RANGES": [0, 100], "TEST_CONDITIONAL_HEX_RANGES": [0, 175]}, "visible": {"TEST_CHILD_BOOL" : true, "TEST_CHILD_STR" : true}, "defaults": {"TEST_BOOL": false} }

* Set TEST_CHILD_STR
> { "TEST_CHILD_STR" : "Other value" }
< { "values" : { "TEST_CHILD_STR" : "Other value" }, "defaults": {"TEST_CHILD_STR": false}}

* Clear TEST_BOOL, hiding child items
> { "TEST_BOOL" : false }
< { "values" : { "TEST_BOOL" : false },  "ranges": {"TEST_CONDITIONAL_RANGES": [0, 10], "TEST_CONDITIONAL_HEX_RANGES": [16, 175]}, "visible": { "TEST_CHILD_BOOL" : false, "TEST_CHILD_STR" : false }, "defaults": {}}

* Set TEST_CHILD_BOOL, invalid as parent is disabled
> { "TEST_CHILD_BOOL" : false }
< { "values" : { }, "defaults": { } }

* Set TEST_BOOL & TEST_CHILD_STR together
> { "TEST_BOOL" : true, "TEST_CHILD_STR" : "New value" }
< { "values" : { "TEST_BOOL" : true, "TEST_CHILD_STR" : "New value", "TEST_CHILD_BOOL" : true }, "defaults": {} }

* Set choice
> { "CHOICE_B" : true }
< { "values" : { "CHOICE_B" : true, "CHOICE_A" : false, "DEPENDS_ON_CHOICE" : "Depends on B" }, "defaults": {"CHOICE_A": false, "CHOICE_B": false} }

* Set string which depends on choice B
> { "DEPENDS_ON_CHOICE" : "oh, really?" }
< { "values" : { "DEPENDS_ON_CHOICE" : "oh, really?" }, "defaults": {"DEPENDS_ON_CHOICE": false} }

* Try setting boolean values to invalid types
> { "CHOICE_A" : 11, "TEST_BOOL" : "false" }
< { "values" : { }, "defaults": {} }

* Disabling all items in a submenu causes all sub-items to have visible:false
> { "SUBMENU_TRIGGER": false }
< { "values" : { "SUBMENU_TRIGGER": false}, "visible": { "test-config-submenu-Kconfig-55" : false, "SUBMENU_ITEM_A": false, "SUBMENU_ITEM_B": false}, "defaults": {"SUBMENU_TRIGGER": false} }

* Re-enabling submenu causes that menu to be visible again, and refreshes sub-items
> { "SUBMENU_TRIGGER": true }
< { "values" : { "SUBMENU_TRIGGER": true}, "visible": {"test-config-submenu-Kconfig-55": true, "SUBMENU_ITEM_A": true, "SUBMENU_ITEM_B": true}, "values": {"SUBMENU_TRIGGER": true, "SUBMENU_ITEM_A": 77, "SUBMENU_ITEM_B": false }, "defaults": {} }

* Disabling submenuconfig item hides its children
> { "SUBMENU_CONFIG": false }
< { "values" : { "SUBMENU_CONFIG": false }, "visible": { "SUBMENU_CONFIG_ITEM": false }, "defaults": {"SUBMENU_CONFIG": false}, "defaults": {"SUBMENU_CONFIG": false} }

* Enabling submenuconfig item re-shows its children
> { "SUBMENU_CONFIG": true }
< { "values" : { "SUBMENU_CONFIG_ITEM": true, "SUBMENU_CONFIG" : true }, "visible": { "SUBMENU_CONFIG_ITEM": true }, "defaults": {} }

* Read/write hex values as decimal integers
> { "TEST_CONDITIONAL_HEX_RANGES": 140 }
< { "values" : { "TEST_CONDITIONAL_HEX_RANGES" : 140 }, "defaults": {"TEST_CONDITIONAL_HEX_RANGES": false} }

* Can write hex values as hex strings, but the result is a decimal integer
> { "TEST_CONDITIONAL_HEX_RANGES": "90" }
< { "values" : { "TEST_CONDITIONAL_HEX_RANGES" : 144 }, "defaults": {} }

* Can reset value to the original state
>R ["TEST_BOOL"]
< {"version": 3, "values": {"TEST_BOOL": false}, "ranges": {"TEST_CONDITIONAL_RANGES": [0, 10], "TEST_CONDITIONAL_HEX_RANGES": [16, 175]}, "visible": {"TEST_CHILD_BOOL": false, "TEST_CHILD_STR": false}, "defaults": {"TEST_BOOL": true}}

* Set TEST_BOOL in order to reset afterwards
> { "TEST_BOOL" : true }
< {"version": 3, "values": {"TEST_BOOL": true, "TEST_CHILD_BOOL": true, "TEST_CHILD_STR": "New value"}, "ranges": {"TEST_CONDITIONAL_RANGES": [0, 100], "TEST_CONDITIONAL_HEX_RANGES": [0, 175]}, "visible": {"TEST_CHILD_BOOL": true, "TEST_CHILD_STR": true}, "defaults": {"TEST_BOOL": false}}

* Can reset multiple values at once
>R ["TEST_BOOL", "SOME_UNRELATED_THING"]
< {"version": 3, "values": {"TEST_BOOL": false, "SOME_UNRELATED_THING": false}, "ranges": {"TEST_CONDITIONAL_RANGES": [0, 10], "TEST_CONDITIONAL_HEX_RANGES": [16, 175]}, "visible": {"TEST_CHILD_BOOL": false, "TEST_CHILD_STR": false}, "defaults": {"TEST_BOOL": true, "SOME_UNRELATED_THING": true}}

* Can reset the whole configuration
>R ["all"]
< {"version": 3, "values": {"CHOICE_A": true, "CHOICE_B": false, "DEPENDS_ON_CHOICE": "Depends on A", "TEST_CONDITIONAL_HEX_RANGES": 160}, "ranges": {}, "visible": {}, "defaults": {"TEST_CHILD_STR": true, "CHOICE_A": true, "CHOICE_B": true, "DEPENDS_ON_CHOICE": true, "TEST_CONDITIONAL_HEX_RANGES": true, "SUBMENU_TRIGGER": true, "SUBMENU_CONFIG": true}}

* Enable some configs to test menu reset
> {"SUBMENU_TRIGGER": true, "SUBMENU_ITEM_A": 42, "SOME_UNRELATED_THING": true }
< {"version": 3, "values": {"SOME_UNRELATED_THING": true, "SUBMENU_ITEM_A": 42}, "ranges": {}, "visible": {}, "defaults": {"SUBMENU_TRIGGER": false, "SUBMENU_ITEM_A": false, "SOME_UNRELATED_THING": false}}

* Reset menu "Submenu" by its id (<path> is added in test_kconfserver.py)
>R ["test-config-submenu-Kconfig-55"]
< {"version": 3, "values": {"SUBMENU_ITEM_A": 77}, "ranges": {}, "visible": {}, "defaults": {"SUBMENU_ITEM_A": true}}

* Enable some configs to test mixed reset
> {"SUBMENU_TRIGGER": true, "SUBMENU_ITEM_A": 42, "TEST_BOOL": true}
<  {"version": 3, "values": {"TEST_BOOL": true, "TEST_CHILD_BOOL": true, "TEST_CHILD_STR": "OHAI!", "SUBMENU_ITEM_A": 42}, "ranges": {"TEST_CONDITIONAL_RANGES": [0, 100], "TEST_CONDITIONAL_HEX_RANGES": [0, 175]}, "visible": {"TEST_CHILD_BOOL": true, "TEST_CHILD_STR": true}, "defaults": {"TEST_BOOL": false, "SUBMENU_ITEM_A": false}}

* Reset menu "Submenu" and TEST_BOOL in one request
>R ["test-config-submenu-Kconfig-55", "TEST_BOOL"]
< {"version": 3, "values": {"TEST_BOOL": false, "SUBMENU_ITEM_A": 77}, "ranges": {"TEST_CONDITIONAL_RANGES": [0, 10], "TEST_CONDITIONAL_HEX_RANGES": [16, 175]}, "visible": {"TEST_CHILD_BOOL": false, "TEST_CHILD_STR": false}, "defaults": {"TEST_BOOL": true, "SUBMENU_ITEM_A": true}}
